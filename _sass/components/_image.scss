///
/// Forty by HTML5 UP
/// html5up.net | @ajlkn
/// Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
///

/* Image */

img {
	max-width: 100%;
}

.image {
	border: 0;
	display: inline-block;
	position: relative;

	img {
		display: block;
	}

	&.left,
	&.right {
		max-width: 30%;

		img {
			width: 100%;
		}
	}

	&.left {
		float: left;
		margin: 0 1.5em 1.25em 0;
		top: 0.25em;
	}

	&.right {
		float: right;
		margin: 0 0 1.25em 1.5em;
		top: 0.25em;
	}

	&.fit {
		display: block;
		margin: 0 0 _size(element-margin) 0;
		width: 100%;

		img {
			width: 100%;
		}
	}

	&.main {
		display: block;
		margin: (_size(element-margin) * 1.25) 0;
		width: 100%;

		img {
			width: 100%;
			height: auto;
			max-height: 625px;
			object-position: left;
			object-fit: contain; // ensures image scales proportionally without cropping
		}

		@include breakpoint(small) {
			margin: (_size(element-margin) * 0.75) 0;
		}
	}
}

.brandimage_masthead {
	display: block;
	width: 100%;
	position: relative;
	padding-top: var(--header-h);
	margin-bottom: 2rem;
	min-height: 300px; // bump height for better visibility
	overflow: hidden;
	background-size: cover;
	background-position: center bottom;
	background-repeat: no-repeat;


	@include breakpoint(small) {
		padding-top: calc(var(--header-h) + 1rem);
	}

	// Color wash overlay
	&::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-color: var(--nav-color);
		opacity: 0.3;
		pointer-events: none;
		z-index: 1;
	}

	// Solid top bar
	&::after {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		height: 5rem;
		width: 100%;
		background: var(--nav-color);
		z-index: 3;
		pointer-events: none;
	}
}

.brandimage_masthead {
  min-height: 300px;

  @include breakpoint(xlarge) {
    min-height: 450px;
  }

  @include breakpoint(xxlarge) {
    min-height: 550px;
  }
}


// about page image and smiley //

.profile-image-wrapper {
  position: relative;
  border: 1px solid #c789af;
  padding: 0;

  img {
    width: 100%;
    height: auto;
    display: block;
    object-fit: cover;
  }

  .smiley-overlay {
    position: absolute;
    bottom: -30px;  // moved 10px lower than before
    right: -30px;   // moved 40px more to the right
    width: 90px;
    height: 90px;
    transform: rotate(-30deg) scale(1);
    transform-origin: center;
    transition: transform 0.2s ease-in-out;
    z-index: 2;

    svg {
      width: 100%;
      height: 100%;
      display: block;
    }

    @media (hover: none) and (pointer: coarse) {
      animation: mobileBoop 1s ease-out 1.5s forwards;
    }

    @keyframes mobileBoop {
      0%   { transform: rotate(-30deg) scale(1); }
      50%  { transform: rotate(10deg) scale(1.4); }
      100% { transform: rotate(-30deg) scale(1); }
    }
  }

  &:hover .smiley-overlay {
    transform: rotate(10deg) scale(1.4); // Bigger boop effect
  }
}

.smiley {
  .eye {
    fill: map-get($palette, 'spicy');
  }

  .smile {
    stroke: map-get($palette, 'spicy');
    fill: none;
    stroke-width: 4;
    stroke-linecap: round;
  }
}
.profile-image-box {
  margin-top: var(--header-h, 72px); // ensures space below sticky nav
  margin-bottom: 3rem;              // adds breathing room before next box
}
