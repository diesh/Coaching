/* Spotlights */

.spotlights {
  border-top: 0 !important;

  & + * {
    border-top: 0 !important;
  }

  > section {
    @include vendor('display', 'flex');
    @include vendor('flex-direction', 'row');
    background-color: #ffffff;  // Background remains white for all sections
    border-bottom: 1px solid #d3d3d3; /* Thin grey line between each post */
    padding: 2em 1em;  // Add padding around each section for better spacing

    > .image {
      background-position: center center;
      background-size: cover;
      border-radius: 0;
      display: block;
      position: relative;
      width: 35%;  // Reduced image width for a tighter layout

      img {
        border-radius: 0;
        display: block;
        width: 100%;
        object-fit: cover;  // Ensure the image covers the container without stretching
      }

      &:before {
        background: transparentize(_palette(bg), 0.1);
        content: '';
        display: block;
        height: 100%;
        left: 0;
        opacity: 0;
        position: absolute;
        top: 0;
        width: 100%;
      }
    }

    > .content {
      @include vendor('display', 'flex');
      @include vendor('flex-direction', 'column');
      @include vendor('justify-content', 'center');
      @include vendor('align-items', 'flex-start');  // Align to start to keep text tight
      @include padding(1.5em, 2em);  // Reduce padding to tighten up the content
      width: 65%;  // Reduced width for content, creating balance with image

      > .inner {
        margin: 0 auto;
        max-width: 100%;
        width: _size(inner);
      }

      h3 {
        margin-bottom: 1em;  // Reduce space below the title for a more compact look
      }

      p {
        margin-bottom: 1.5em;  // Tighter margin below the paragraph
      }

      ul.actions {
        margin-top: 0;  // Reduce space above the buttons
      }
    }

    /* Remove color cycling for white background */
    @for $i from 1 through 6 {
      &:nth-child(#{$i}) {
        // No color cycling, so remove this part
      }
    }

    &:nth-child(2n) {
      @include vendor('flex-direction', 'row-reverse');
      background-color: #ffffff;  // Change even sections to white too

      > .content {
        @include vendor('align-items', 'flex-end');
      }
    }
  }

  @include breakpoint(xlarge) {
    > section {
      > .image {
        width: 40%;  // Slightly larger image at this breakpoint
      }

      > .content {
        width: 60%;
      }
    }
  }

  @include breakpoint(large) {
    > section {
      > .image {
        width: 45%;  // Larger image at large breakpoint
      }

      > .content {
        width: 55%;
      }
    }
  }

  @include breakpoint(medium) {
    > section {
      display: block;

      > .image {
        width: 100%;  // Full width image for smaller screens
      }

      > .content {
        @include padding(3em, 1.5em);  // Adjust padding for medium screens
        width: 100%;
      }
    }
  }

  @include breakpoint(small) {
    > section {
      > .content {
        @include padding(2em, 1em);  // Adjust for smaller screens with less padding
      }
    }
  }
}
